<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>AUTO</title>

    <script src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js'></script>
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>

    <link href="css/bootstrap.css" rel="stylesheet">
    <script src="js/bootstrap.js"></script>

    <link href="css/bootstrap-switch.css" rel="stylesheet">
    <script src="js/bootstrap-switch.js"></script>

    <link href='https://fonts.googleapis.com/css?family=Roboto:400,700' rel='stylesheet' type='text/css'>
    <link href="css/style.css" rel="stylesheet"> 
    <script src="js/script.js"></script>
</head>

<body>

    <!-- Page Content -->
    <div class="container blur">

        <div class="row">
            <div class="col-xs-4"><span class="h3 back"><a href="index.html"><img src="exports/back.svg" /></a></span></div>     
            <div class="col-xs-8"><span class="h2">Settings</span></div>
        </div>

        <div class="row">
            <div class="col-xs-9"><h3>Entertainment</h3></div>
            <div class="col-xs-3">
                <div class="wrapper">
                    <input type="checkbox" name="entertainment-toggle" id="entertainment-toggle" class="ios-toggle">
                    <label for="entertainment-toggle"></label>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-9"><h3>Maintenance</h3></div>
            <div class="col-xs-3">
                <div class="wrapper">
                    <input type="checkbox" name="maintenance-toggle" id="maintenance-toggle" class="ios-toggle">
                    <label for="maintenance-toggle"></label>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-9"><h3>Routes</h3></div>
            <div class="col-xs-3">
                <div class="wrapper">
                    <input type="checkbox" name="routes-toggle" id="routes-toggle" class="ios-toggle">
                    <label for="routes-toggle"></label>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-9"><h3>Performance</h3></div>
            <div class="col-xs-3">
                <div class="wrapper">
                    <input type="checkbox" name="performance-toggle" id="performance-toggle" class="ios-toggle" >
                    <label for="performance-toggle"></label>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-9"><h3>Climate</h3></div>
            <div class="col-xs-3">
                <div class="wrapper">
                    <input type="checkbox" name="climate-toggle" id="climate-toggle" class="ios-toggle" checked>
                    <label for="climate-toggle"></label>
                </div>
            </div>
        </div>

    </div>
    <script>
    $(function() {
        var local = JSON.parse(localStorage.local);
        // set checkbox state based on settings
        for(var i in local.setting) {
            if (local.setting[i]) {
                $('#'+i+'-toggle').prop("checked",true);
            } else {
                $('#'+i+'-toggle').prop("checked",false);
            }
        }

        // checkbox change handler
        $('input.ios-toggle').change(function() {
            var setting_key = $(this).attr('id').split('-')[0];
            if (this.checked) {
                local.setting[setting_key] = true
                console.log(local.setting);
                localStorage.local = JSON.stringify(local);
            } else {
                local.setting[setting_key] = false
                localStorage.local = JSON.stringify(local);
            }
        })
    })

    </script>

</body>

</html>
