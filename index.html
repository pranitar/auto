<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>AUTO</title>

    <script src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js'></script>
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>

    <link href="css/bootstrap.min.css" rel="stylesheet">
    <script src="js/bootstrap.min.js"></script>
    <link href="css/bootstrap-switch.min.css" rel="stylesheet">
    <script src="js/bootstrap-switch.min.js"></script>

    <link href='https://fonts.googleapis.com/css?family=Roboto:400,700' rel='stylesheet' type='text/css'>
    <link href="css/style.css" rel="stylesheet"> 
    <script src="js/script.js"></script>
</head>

<body>
    
    <!-- Page Content -->
    <div class="container">
        <div class="row">
            <div class="col-xs-10 col-sm-10 text-center">
            </div>
            <div class="col-xs-2 col-sm-2 text-center">
                <a href="settings.html"><img src="exports/gear.png"></a>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-6 col-sm-6">
            </div>
            <div class="col-xs-6 col-sm-6">
            </div>
        </div>
        <div class="row">
            <div class="col-xs-6 col-sm-6">
            </div>
            <div class="col-xs-6 col-sm-6">
            </div>
        </div>
        <div class="row">
            <div class="col-xs-6 col-sm-6">
            </div>
        </div>
    </div>

    <script>
    $(function() {
        // draw in a tags if setting is true
        var data = JSON.parse(localStorage.getItem("local"));
        var available_icons = ['entertainment', 'maintenance','routes','climate','performance'];
        for (var i = 0; i < $('.col-xs-6').length; i++) {
            // console.log('hi')
            // if we haven't stuck an icon in yet...
            var that = $($('.col-xs-6')[i]);
            console.log(that);
            if (that.children().length === 0) {
                console.log('hi')
                // add one that hasn't been covered
                for (var j = 0; j < available_icons.length; j++) {
                    var icon = available_icons[j];
                    console.log(icon)
                    if (data.setting[icon]) {
                        // check if entertainment, since there are different urls
                        if (icon === 'entertainment') {
                            var new_icon = icon+data.entertainment.current_setting.toLowerCase();
                        } else {
                            var new_icon = icon;
                        }
                        that.html('<a href="'+new_icon+'.html"><img src="exports/'+icon+'.svg" class="nav-icon"></a>');
                        break;
                    }
                }
                available_icons.splice(available_icons.indexOf(icon),1);
            }
        }
        // don't need to save back into localstorage because this runs off of settings 
    })

    </script>
</body>

</html>
